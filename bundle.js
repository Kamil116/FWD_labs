function t(t){const e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new t.constructor(+t):"number"==typeof t||"[object Number]"===e||"string"==typeof t||"[object String]"===e?new Date(t):new Date(NaN)}const e=864e5;function n(e){const n=t(e);return n.setHours(0,0,0,0),n}function o(e){const n=t(e),o=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return o.setUTCFullYear(n.getFullYear()),+e-+o}function s(s,i){const a=t(s),r=t(i),l=c(a,r),u=Math.abs(function(t,s){const c=n(t),i=n(s),a=+c-o(c),r=+i-o(i);return Math.round((a-r)/e)}(a,r));a.setDate(a.getDate()-l*u);const g=l*(u-Number(c(a,r)===-l));return 0===g?0:g}function c(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}const i=document.getElementById("get-joke-btn"),a=document.getElementById("joke-title"),r=document.getElementById("joke_image"),l=document.getElementById("joke_text"),u=document.getElementById("laughing_guy"),g=document.getElementById("joke-date");i.addEventListener("click",(async function(t){a.style.display="block",a.textContent="Loading...";let e=await function(){const t=new URLSearchParams;return t.append("email","k.mirgasimov@innopolis.university"),fetch("https://fwd.innopolis.university/api/hw2?"+t.toString()).then((t=>t.json()))}().then();const n=await function(t){const e=new URLSearchParams;return e.append("id",String(t)),fetch("https://fwd.innopolis.university/api/comic?"+e.toString()).then((t=>t.json()))}(e);!function(t){const e=t.img,n=t.safe_title;let o=new Date(Number(t.year),Number(t.month),Number(t.day));a.textContent=n,g.textContent="The comic was released "+s(Date(),o)+" days ago",g.style.display="block",g.style.color="green",r.src=e,r.style.display="block",u.style.display="block",l.textContent="Date: "+o.toLocaleDateString(),l.style.display="block"}(n)}));
